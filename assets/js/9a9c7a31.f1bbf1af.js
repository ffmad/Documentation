(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{106:function(t,e,n){"use strict";n.r(e),n.d(e,"frontMatter",(function(){return i})),n.d(e,"metadata",(function(){return s})),n.d(e,"toc",(function(){return c})),n.d(e,"default",(function(){return d}));var o=n(3),r=n(7),a=(n(0),n(126)),i={title:"A Bitcoin Protocol"},s={unversionedId:"basics/what-is-counterparty/a-bitcoin-protocol",id:"basics/what-is-counterparty/a-bitcoin-protocol",isDocsHomePage:!1,title:"A Bitcoin Protocol",description:"How does Counterparty work?",source:"@site/docs/basics/what-is-counterparty/a-bitcoin-protocol.md",slug:"/basics/what-is-counterparty/a-bitcoin-protocol",permalink:"/docs/basics/what-is-counterparty/a-bitcoin-protocol",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/basics/what-is-counterparty/a-bitcoin-protocol.md",version:"current",sidebar:"basics",next:{title:"An incencentivization token",permalink:"/docs/basics/what-is-counterparty/an-incentivization-token"}},c=[{value:"How does Counterparty work?",id:"how-does-counterparty-work",children:[]},{value:"So Counterparty is not its own Blockchain, but &quot;rides on top of&quot; Bitcoin?",id:"so-counterparty-is-not-its-own-blockchain-but-rides-on-top-of-bitcoin",children:[]},{value:"Is Counterparty &quot;polluting&quot; the Bitcoin blockchain, then?",id:"is-counterparty-polluting-the-bitcoin-blockchain-then",children:[]},{value:"Are Counterparty transactions less secure than Bitcoin transactions?",id:"are-counterparty-transactions-less-secure-than-bitcoin-transactions",children:[]},{value:"How do the Counterparty nodes stay in sync? What&#39;s to stop one node from disagreeing with another?",id:"how-do-the-counterparty-nodes-stay-in-sync-whats-to-stop-one-node-from-disagreeing-with-another",children:[]},{value:"What about Sidechains?",id:"what-about-sidechains",children:[]},{value:"What kind of addresses does Counterparty use?",id:"what-kind-of-addresses-does-counterparty-use",children:[]}],u={toc:c};function d(t){var e=t.components,n=Object(r.a)(t,["components"]);return Object(a.b)("wrapper",Object(o.a)({},u,n,{components:e,mdxType:"MDXLayout"}),Object(a.b)("h3",{id:"how-does-counterparty-work"},"How does Counterparty work?"),Object(a.b)("p",null,"Counterparty embeds data into regular Bitcoin transactions. To a regular Bitcoin client, these transactions look like normal Bitcoin transactions, with one party sending another party a very small amount of Bitcoin. A Counterparty node (which runs the Bitcoin client along with ",Object(a.b)("a",{parentName:"p",href:"https://github.com/CounterpartyXCP/counterparty-lib"},"the Counterparty client software"),") will recognize and interpret the data in these Bitcoin transactions based on specific rules. From this, it constructs its own ledger of Counterparty transactions that it has seen on the Bitcoin network."),Object(a.b)("p",null,"To better help understand this, ",Object(a.b)("a",{parentName:"p",href:"https://counterpartychain.io/transaction/c717d2d205155c2067786c08b7c7e6e6f904a18626969daca0ecb6c3e8bb7b8f"},"here")," is a record of a Counterparty transaction where one address is sending 48 SJCX tokens (a custom token used by ",Object(a.b)("a",{parentName:"p",href:"https://storj.io/"},"Storj"),") to another address. ",Object(a.b)("a",{parentName:"p",href:"https://blockchain.info/tx/c717d2d205155c2067786c08b7c7e6e6f904a18626969daca0ecb6c3e8bb7b8f"},"Here")," is what this transaction looks like to a blockchain.info, a popular Bitcoin block explorer. You can see that while it is indeed a Bitcoin transaction, the amount of Bitcoin moved is small. In reality, the BTC spent is just enough to compensate the Bitcoin miners to include the transaction in a block. Essentially, the user that sent the transaction is paying the Bitcoin network to record and secure this embedded Counterparty data."),Object(a.b)("h3",{id:"so-counterparty-is-not-its-own-blockchain-but-rides-on-top-of-bitcoin"},'So Counterparty is not its own Blockchain, but "rides on top of" Bitcoin?'),Object(a.b)("p",null,"Yes. Another way to think of it is similar to a ",Object(a.b)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Matryoshka_doll"},"Russian nesting doll"),", where the bigger doll would be the Bitcoin transaction, and the next doll (inside of it) would be a Counterparty transaction."),Object(a.b)("p",null,"This embedding method is technically known as ",Object(a.b)("strong",{parentName:"p"},"embedded consensus"),"."),Object(a.b)("h3",{id:"is-counterparty-polluting-the-bitcoin-blockchain-then"},'Is Counterparty "polluting" the Bitcoin blockchain, then?'),Object(a.b)("p",null,"No. 99%+ of Counterparty transactions utilize a data encoding method called ",Object(a.b)("inlineCode",{parentName:"p"},"OP_RETURN"),', which is fully "prunable", meaning that the data may be safely discarded by Bitcoin nodes which wish to do so. For the remaining 1% of transactions, an different encoding method is utilized that produces fully "spendable" outputs. These outputs do not stick around in the critical list of unspent outputs (the "UTXO set").'),Object(a.b)("p",null,"On top of this, every Counterparty transaction pays a fair fee to the network for inclusion."),Object(a.b)("h3",{id:"are-counterparty-transactions-less-secure-than-bitcoin-transactions"},"Are Counterparty transactions less secure than Bitcoin transactions?"),Object(a.b)("p",null,"As Counterparty transactions ",Object(a.b)("em",{parentName:"p"},"are")," Bitcoin transactions, their data is proably just as secure as any other Bitcoin transaction."),Object(a.b)("h3",{id:"how-do-the-counterparty-nodes-stay-in-sync-whats-to-stop-one-node-from-disagreeing-with-another"},"How do the Counterparty nodes stay in sync? What's to stop one node from disagreeing with another?"),Object(a.b)("p",null,'As all Counterparty nodes run the same code, and all receive the same Bitcoin transaction data, the ledgers across each node match exactly. Counterparty nodes are not like Bitcoin nodes in that they don\'t communicate with each other: they simply connect to the Bitcoin software and download transactions from it, decoding each one as they go along. In this way, the immense security and computing power behind Bitcoin is leveraged as the "transport network" for Counterparty data.'),Object(a.b)("p",null,'Given the above, there is no "Counterparty peer to peer network" like there is a "Bitcoin peer-to-peer network": Counterparty-aware nodes comprise a subset of the Bitcoin full nodes in existance.'),Object(a.b)("h3",{id:"what-about-sidechains"},"What about Sidechains?"),Object(a.b)("p",null,"Counterparty is optimal for mainly higher value transactions and greatly benefits from the security of the main chain. However, if sidechains are ever released, there is no reason that they couldn't be made to work with Counterparty. This is the beauty of Counterparty's embedded consensus technology -- it can work with just about any blockchain out there, including sidechain designs."),Object(a.b)("h3",{id:"what-kind-of-addresses-does-counterparty-use"},"What kind of addresses does Counterparty use?"),Object(a.b)("p",null,Object(a.b)("em",{parentName:"p"},"Exactly")," the same Bitcoin addresses we all know and love. As such, Counterparty tokens (such as XCP, SJCX, CAKE, and more) may be sent to ",Object(a.b)("em",{parentName:"p"},"any")," Bitcoin address."))}d.isMDXComponent=!0},126:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return b}));var o=n(0),r=n.n(o);function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){if(null==t)return{};var n,o,r=function(t,e){if(null==t)return{};var n,o,r={},a=Object.keys(t);for(o=0;o<a.length;o++)n=a[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)n=a[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var u=r.a.createContext({}),d=function(t){var e=r.a.useContext(u),n=e;return t&&(n="function"==typeof t?t(e):s(s({},e),t)),n},l=function(t){var e=d(t.components);return r.a.createElement(u.Provider,{value:e},t.children)},h={inlineCode:"code",wrapper:function(t){var e=t.children;return r.a.createElement(r.a.Fragment,{},e)}},p=r.a.forwardRef((function(t,e){var n=t.components,o=t.mdxType,a=t.originalType,i=t.parentName,u=c(t,["components","mdxType","originalType","parentName"]),l=d(n),p=o,b=l["".concat(i,".").concat(p)]||l[p]||h[p]||a;return n?r.a.createElement(b,s(s({ref:e},u),{},{components:n})):r.a.createElement(b,s({ref:e},u))}));function b(t,e){var n=arguments,o=e&&e.mdxType;if("string"==typeof t||o){var a=n.length,i=new Array(a);i[0]=p;var s={};for(var c in e)hasOwnProperty.call(e,c)&&(s[c]=e[c]);s.originalType=t,s.mdxType="string"==typeof t?t:o,i[1]=s;for(var u=2;u<a;u++)i[u]=n[u];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}p.displayName="MDXCreateElement"}}]);