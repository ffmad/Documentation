<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.72">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Counterparty Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Counterparty Blog Atom Feed"><title data-react-helmet="true">Counterwallet-Specific | Counterparty</title><meta data-react-helmet="true" property="og:url" content="https://ffmad.github.io/docs/advanced/federated-node/counterwallet"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Counterwallet-Specific | Counterparty"><meta data-react-helmet="true" name="description" content="If you are setting up a Counterwallet server, you will next need to create a counterwallet.conf.json configuration file."><meta data-react-helmet="true" property="og:description" content="If you are setting up a Counterwallet server, you will next need to create a counterwallet.conf.json configuration file."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://ffmad.github.io/docs/advanced/federated-node/counterwallet"><link data-react-helmet="true" rel="alternate" href="https://ffmad.github.io/docs/advanced/federated-node/counterwallet" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://ffmad.github.io/docs/advanced/federated-node/counterwallet" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.5136cec4.css">
<link rel="preload" href="/assets/js/styles.3bec8e7c.js" as="script">
<link rel="preload" href="/assets/js/runtime~main.85ef5a3f.js" as="script">
<link rel="preload" href="/assets/js/main.9a984a6f.js" as="script">
<link rel="preload" href="/assets/js/1.d5f96000.js" as="script">
<link rel="preload" href="/assets/js/2.51cf87d3.js" as="script">
<link rel="preload" href="/assets/js/55.4d55144e.js" as="script">
<link rel="preload" href="/assets/js/56.1e9741af.js" as="script">
<link rel="preload" href="/assets/js/935f2afb.912e5501.js" as="script">
<link rel="preload" href="/assets/js/17896441.cde37ae1.js" as="script">
<link rel="preload" href="/assets/js/3a3aef08.3b7d6fc6.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/xcp.png" alt="Counterparty" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/xcp.png" alt="Counterparty" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Counterparty</strong></a><a class="navbar__item navbar__link" href="/docs/basics/what-is-counterparty/a-bitcoin-protocol">Basics</a><a class="navbar__item navbar__link" href="/docs/wallets/counterwallet">Wallets</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/advanced/architecture">Advanced</a><a class="navbar__item navbar__link" href="/docs/develop/api/overview">Develop</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/CounterpartyXCP/Documentation" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_GrZ2"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/xcp.png" alt="Counterparty" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/xcp.png" alt="Counterparty" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Counterparty</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/basics/what-is-counterparty/a-bitcoin-protocol">Basics</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/wallets/counterwallet">Wallets</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/advanced/architecture">Advanced</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/develop/api/overview">Develop</a></li><li class="menu__list-item"><a href="https://github.com/CounterpartyXCP/Documentation" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/advanced/architecture">Platform Architecture</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/advanced/protocol">Protocol Specification</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/advanced/cli">Command-line (CLI) Guide</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Advanced Usage</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/advanced/advanced-usage/sending-bulk">How to send Counterparty assets in bulk</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/advanced/advanced-usage/multisig">Using multisig with counterparty-server</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Federated Node</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/federated-node/getting-started">Getting started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/federated-node/pre-installation">Pre-installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/federated-node/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/federated-node/administration">Node Administration</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/advanced/federated-node/counterwallet">Counterwallet-Specific</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Installation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/advanced/installation/bitcoin-core">Bitcoin Core with ``addrindex`` Patch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/advanced/installation/windows">Counterparty Dependencies on Windows</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/advanced/exchange-integration">Exchange Integration</a></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Counterwallet-Specific</h1></header><div class="markdown"><p>If you are setting up a Counterwallet server, you will next need to create a <code>counterwallet.conf.json</code> configuration file.
Instructions for doing that are detailed in the <em>Counterwallet Configuration File</em> section later in this document. Once creating this file, open up a web browser, and go to the IP address/hostname of the server. You will then be presented to accept your self-signed SSL certificate, and after doing that, should see the Counterwallet login screen.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="getting-a-ssl-certificate"></a>Getting a SSL Certificate<a class="hash-link" href="#getting-a-ssl-certificate" title="Direct link to heading">#</a></h3><p>By default, the system is set up to use a self-signed SSL certificate. If you are hosting your services for others,
you should get your own SSL certificate from your DNS registrar so that your users don&#x27;t see a certificate warning when
they visit your site.</p><p>Once you have that certificate, create a nginx-compatible <code>.pem</code> file. Copy that <code>.pem</code> file to <code>federatednode/config/counterwallet/ssl/counterwallet.pem</code> and the cooresponding certificate <code>.key</code> file to <code>federatednode/config/counterwallet/ssl/counterwallet.key</code>. (Note that there will be a <code>counterwallet.key</code> and <code>counterwallet.pem</code> file already there, which are the default, self-signed certificates, and can be safely overridden.) Then, restart the <code>counterwallet</code> service for the new certificate to take effect.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="monitoring-the-server"></a>Monitoring the Server<a class="hash-link" href="#monitoring-the-server" title="Direct link to heading">#</a></h3><p>To monitor the server, you can use a 3rd-party service such as <a href="http://www.pingdom.com" target="_blank" rel="noopener noreferrer">Pingdom</a> or <a href="http://statuscake.com" target="_blank" rel="noopener noreferrer">StatusCake</a>.
The federated node allows these (and any other monitoring service) to query the basic status of the Federated Node via making a HTTP GET call to one of the following URLs:</p><ul><li><code>/_api/</code> (for mainnet)</li><li><code>/_t_api/</code> (for testnet)</li></ul><p>If all services are up, a HTTP 200 response with the following data will be returned:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">{&quot;counterparty-server&quot;: &quot;OK&quot;, &quot;counterblock_ver&quot;: &quot;1.3.0&quot;, &quot;counterparty-server_ver&quot;: &quot;9.31.0&quot;, &quot;counterblock&quot;: &quot;OK&quot;,</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">&quot;counterblock_check_elapsed&quot;: 0.0039348602294921875, &quot;counterparty-server_last_block&quot;: {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">&quot;block_hash&quot;: &quot;0000000000000000313c4708da5b676f453b41d566832f80809bc4cb141ab2cd&quot;, &quot;block_index&quot;: 311234,</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">&quot;block_time&quot;: 1405638212}, &quot;local_online_users&quot;: 7, &quot;counterparty-server_check_elapsed&quot;: 0.003687143325805664,</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">&quot;counterblock_error&quot;: null, &quot;counterparty-server_last_message_index&quot;: 91865}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Note the <code>&quot;counterparty-server&quot;: &quot;OK&quot;</code> and <code>&quot;counterblock&quot;: &quot;OK&quot;</code> items.</p><p>If all services but <code>counterparty-server</code> are up, a HTTP 500 response with <code>&quot;counterparty-server&quot;: &quot;NOT OK&quot;</code>, for instance.</p><p>If <code>counterblock</code> is not working properly, <code>nginx</code> will return a HTTP 503 (Gateway unavailable) or 500 response.</p><p>If <code>nginx</code> is not working properly, either a HTTP 5xx response, or no response at all (i.e. timeout) will be returned.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="creating-a-configuration-file"></a>Creating a configuration file<a class="hash-link" href="#creating-a-configuration-file" title="Direct link to heading">#</a></h3><p>Counterwallet can be configured via editing the <code>counterwallet.conf.json</code> file, via issuing the following command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">sudo docker exec -it federatednode_counterwallet_1 vim /counterwallet/counterwallet.conf.json</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>This file will contain a valid JSON-formatted object, containing an a number of possible configuration properties. For example::</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">{</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;servers&quot;: [ &quot;counterblock1.mydomain.com&quot;, &quot;counterblock2.mydomain.com&quot;, &quot;counterblock3.mydomain.com&quot; ],</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;forceTestnet&quot;: true,</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;googleAnalyticsUA&quot;: &quot;UA-48454783-2&quot;,</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;googleAnalyticsUA-testnet&quot;: &quot;UA-48454783-4&quot;,</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;rollbarAccessToken&quot;: &quot;39d23b5a512f4169c98fc922f0d1b121Click to send altcoins to this BTC address &quot;,</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;disabledFeatures&quot;: [&quot;betting&quot;],</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;restrictedAreas&quot;: {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;pages/betting.html&quot;: [&quot;US&quot;],</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;pages/openbets.html&quot;: [&quot;US&quot;],</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;pages/matchedbets.html&quot;: [&quot;US&quot;],</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;dividend&quot;: [&quot;US&quot;]</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  },</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Here&#x27;s a description of the possible fields:</p><p><strong>Required fields:</strong></p><ul><li><strong>servers</strong>: Counterwallet should work out-of-the-box in a scenario where you have a single Counterblock Federated Node that both hosts the static site content, as well as the backend Counterblock API services. However, Counterwallet can also be set up to work in MultiAPI mode, where it can query more than one server (to allow for both redundancy and load balancing). To do this, set this <code>servers</code> parameter as a list of multiple server URIs. Each URI can have a <code>http://</code> or <code>https://</code> prefix (we strongly recommend using HTTPS), and the strings must <em>not</em> end in a slash (just leave it off). If the server hostname does not start with <code>http://</code> or <code>https://</code>, then <code>https://</code> is assumed.</li></ul><p>If you just want to use the current server (and don&#x27;t have a multi-server setup), just specify this as <code>[]</code> (empty list).*</p><p><strong>Optional fields:</strong></p><ul><li><strong>forceTestnet</strong>: Set to true to always use testnet (not requiring &#x27;testnet&#x27; in the FQDN, or the &#x27;?testnet=1&#x27; parameter in the URL.</li><li><strong>googleAnalyticsUA</strong> / <strong>googleAnalyticsUA-testnet</strong>: Set to enable google analytics for mainnet/testnet. You must have a google analytics account.</li><li><strong>rollbarAccessToken</strong>: Set to enable client-side error tracking via rollbar.com. Must have a rollbar account.</li><li><strong>disabledFeatures</strong>: Set to a list of zero or more features to disable in the UI. Possible features are:
<code>betting</code>, <code>dividend</code>, <code>exchange</code>, <code>leaderboard</code>, <code>portfolio</code>, <code>stats</code> and <code>history</code>. Normally
this can just be <code>[]</code> (an empty list) to not disable anything.</li><li><strong>restrictedAreas</strong>: Set to an object containing a specific page path as the key (or &quot;dividend&quot; for dividend functionality),
and a list of one or more ISO 2-letter country codes as the key value, to allow for country-level blacklisting of pages/features.</li></ul><p>Once done, save this file and make sure it exists on all servers you are hosting Counterwallet static content on, and restart the <code>counterwallet</code> service. Now, when you go to your Counterwallet site, the server will read in this file immediately after loading the page, and set the list of
backend API hosts from it automatically.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/master/website/docs/advanced/federated-node/counterwallet.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/advanced/federated-node/administration"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Node Administration</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/advanced/installation/bitcoin-core"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Bitcoin Core with ``addrindex`` Patch Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#getting-a-ssl-certificate" class="table-of-contents__link">Getting a SSL Certificate</a></li><li><a href="#monitoring-the-server" class="table-of-contents__link">Monitoring the Server</a></li><li><a href="#creating-a-configuration-file" class="table-of-contents__link">Creating a configuration file</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/basics/what-is-counterparty/a-bitcoin-protocol">Getting Started</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/wsjKtPGrMF" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://counterpartytalk.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum</a></li><li class="footer__item"><a href="https://www.reddit.com/r/counterparty_xcp/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Reddit</a></li><li class="footer__item"><a href="https://t.me/Counterparty_XCP" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram</a></li><li class="footer__item"><a href="https://twitter.com/CounterpartyXCP" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/CounterpartyXCP/Documentation" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2014 - 2021 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/styles.3bec8e7c.js"></script>
<script src="/assets/js/runtime~main.85ef5a3f.js"></script>
<script src="/assets/js/main.9a984a6f.js"></script>
<script src="/assets/js/1.d5f96000.js"></script>
<script src="/assets/js/2.51cf87d3.js"></script>
<script src="/assets/js/55.4d55144e.js"></script>
<script src="/assets/js/56.1e9741af.js"></script>
<script src="/assets/js/935f2afb.912e5501.js"></script>
<script src="/assets/js/17896441.cde37ae1.js"></script>
<script src="/assets/js/3a3aef08.3b7d6fc6.js"></script>
</body>
</html>