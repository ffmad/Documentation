<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.72">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Counterparty Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Counterparty Blog Atom Feed"><title data-react-helmet="true">On Lighning Network | Counterparty</title><meta data-react-helmet="true" property="og:url" content="https://ffmad.github.io/docs/basics/faq/lightning-network"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="On Lighning Network | Counterparty"><meta data-react-helmet="true" name="description" content="[TOC]"><meta data-react-helmet="true" property="og:description" content="[TOC]"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://ffmad.github.io/docs/basics/faq/lightning-network"><link data-react-helmet="true" rel="alternate" href="https://ffmad.github.io/docs/basics/faq/lightning-network" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://ffmad.github.io/docs/basics/faq/lightning-network" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.5136cec4.css">
<link rel="preload" href="/assets/js/styles.3bec8e7c.js" as="script">
<link rel="preload" href="/assets/js/runtime~main.85ef5a3f.js" as="script">
<link rel="preload" href="/assets/js/main.9a984a6f.js" as="script">
<link rel="preload" href="/assets/js/1.d5f96000.js" as="script">
<link rel="preload" href="/assets/js/2.51cf87d3.js" as="script">
<link rel="preload" href="/assets/js/55.4d55144e.js" as="script">
<link rel="preload" href="/assets/js/56.1e9741af.js" as="script">
<link rel="preload" href="/assets/js/935f2afb.912e5501.js" as="script">
<link rel="preload" href="/assets/js/17896441.cde37ae1.js" as="script">
<link rel="preload" href="/assets/js/016e3a9e.5b07ab98.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/xcp.png" alt="Counterparty" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/xcp.png" alt="Counterparty" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Counterparty</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/basics/what-is-counterparty/a-bitcoin-protocol">Basics</a><a class="navbar__item navbar__link" href="/docs/wallets/counterwallet">Wallets</a><a class="navbar__item navbar__link" href="/docs/advanced/architecture">Advanced</a><a class="navbar__item navbar__link" href="/docs/develop/api/overview">Develop</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/CounterpartyXCP/Documentation" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_GrZ2"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/xcp.png" alt="Counterparty" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/xcp.png" alt="Counterparty" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Counterparty</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/basics/what-is-counterparty/a-bitcoin-protocol">Basics</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/wallets/counterwallet">Wallets</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/advanced/architecture">Advanced</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/develop/api/overview">Develop</a></li><li class="menu__list-item"><a href="https://github.com/CounterpartyXCP/Documentation" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">What is Counterparty?</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/basics/what-is-counterparty/a-bitcoin-protocol">A Bitcoin Protocol</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/basics/what-is-counterparty/an-incentivization-token">An incencentivization token</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Assets (tokens/NFTs)</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/basics/assets/counterparty-assets">Understanding assets on Counterparty</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/basics/assets/enhanced-asset">Enhanced Asset Info</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/basics/assets/enhanced-feed">Enhanced Feed Info</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/basics/assets/use-cases">Some use cases</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">FAQs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/basics/faq/general">Frequently Asked Questions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/basics/faq/smart-contracts">On Smart contracts</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/basics/faq/lightning-network">On Lighning Network</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/basics/support">Getting Support on the Forums</a></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">On Lighning Network</h1></header><div class="markdown"><p>[TOC]</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="what-are-payment-channels"></a>What are Payment channels?<a class="hash-link" href="#what-are-payment-channels" title="Direct link to heading">#</a></h3><p><strong>Payment channels</strong> allow two users of Bitcoin to transact commitments to pay back and forth between each other much faster and more fluidly than Bitcoin’s 10 minute block times would normally allow. These commitments are exchanged between the users outside of the Bitcoin blockchain. Once the users are done, they can close the payment channel by publishing the last commitment(s) to the blockchain, which will finalize the amount actually transacted.</p><p>An ideal use case for the technology is <strong>micropayments</strong>: Imagine a user making numerous very small payments (e.g. .0001 BTC) to Big Music Company as she listens to songs over a certain period. Without payment channels, the Bitcoin transaction fees from these small payments would be as much or more than the payments themselves, and each payment would take on average 10 minutes to clear.</p><p>Shawn Wilkinson of <a href="https://storj.io/" target="_blank" rel="noopener noreferrer">Storj</a> (a Counterparty project) provides a <a href="http://super3.org/introduction-to-micropayment-channels/" target="_blank" rel="noopener noreferrer">good overview</a> of payment channels (which goes into detail on both unidirectional and bidirectional channels.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="what-is-the-lightning-network"></a>What is the Lightning Network?<a class="hash-link" href="#what-is-the-lightning-network" title="Direct link to heading">#</a></h3><p>The <strong>Lightning Network</strong>, which is still under development, will allow for secure, instant off-chain payments between two arbitrary participants. The Lightning Network is one of the primary methods of scaling Bitcoin to have credit card network-like transaction throughput, while preserving its decentralized qualities.</p><p>Lightning Network technology uses bidirectional payment channels as its central component. Much like the internet routes data packets from one network point to another network point, the Lightning Network routes payments across multiple interconnected payment channels. This eliminates the need to construct a new payment channel for every party that you want to transact with. Instead, you may have a channel set up with a party you have an established relationship with, such as a payment provider like Coinbase, who (possibly through multiple degrees of separation) has a payment channel connection to the final end party.</p><p>Because the individual participants’ transactions utilize Bitcoin cryptography and are eventually committed back to the Bitcoin blockchain, transactions on the Lightning Network are essentially as secure as if they were transacted directly on Bitcoin, but without the same cost, speed and scalability limitations.</p><p>The <a href="https://lightning.network/" target="_blank" rel="noopener noreferrer">Lightning Network site</a> includes more information.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="how-do-payment-channels-help-counterparty-users"></a>How do payment channels help Counterparty users?<a class="hash-link" href="#how-do-payment-channels-help-counterparty-users" title="Direct link to heading">#</a></h3><p>Previously, individual Counterparty transactions were committed directly to the Bitcoin blockchain. This is very secure, but is impacted by Bitcoin’s 10 minute block times and per-transaction fees. With payment channels, Counterparty users gain the ability perform certain actions very rapidly and cheaply, such as incrementally swapping XCP for BTC or paying TOKENABC for increased use of a service. The benefits of this are especially apparent when the amounts transacted are small, and/or performed frequently or on an on-going basis.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="what-are-some-potential-uses-for-payment-channelsmicropayments"></a>What are some potential uses for payment channels/micropayments?<a class="hash-link" href="#what-are-some-potential-uses-for-payment-channelsmicropayments" title="Direct link to heading">#</a></h3><ul><li>Rewarding users for specific actions they take, such as contributing content to a blog, or writing a review</li><li>Incrementally purchasing a service offering, such as paying for additional storage use with <a href="https://storj.io/" target="_blank" rel="noopener noreferrer">Storj</a></li><li>Buying in-game items with Counterparty-based games such as <a href="http://spellsofgenesis.com/" target="_blank" rel="noopener noreferrer">Spells of Genesis</a> or <a href="https://itunes.apple.com/gb/app/sarutobi/id932194840?mt=8" target="_blank" rel="noopener noreferrer">SaruTobi</a></li><li>Payments for other digital/virtual goods, such as a “contributor” badge on a forum</li><li>Referral network payments</li><li>Small/regular donations to charities, projects or individuals (such as musicians and writers of very neat open source software (<em>hint, hint!</em>))</li><li>Enabling rental of Counterparty asset names</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="could-payment-channels-be-useful-for-any-kind-of-transaction"></a>Could payment channels be useful for any kind of transaction?<a class="hash-link" href="#could-payment-channels-be-useful-for-any-kind-of-transaction" title="Direct link to heading">#</a></h3><p>Theoretically, any Counterparty transaction could be sent in a payment channel. However, the technology is by far most appropriate for send transactions, where one would transfer a Counterparty asset much like one would transfer Bitcoin.</p><p>Payment channels don’t remove the need for on-chain transactions (and indeed, each payment channel is started from and ends with an on-chain transaction). Instead, they enable certain use-cases such as rapid incremental payments, and microtransactions.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="what-is-p2sh"></a>What is P2SH?<a class="hash-link" href="#what-is-p2sh" title="Direct link to heading">#</a></h3><p>Most commonly in Bitcoin, transactions are made to a specific user’s public key hash (colloquially known as a Bitcoin address), and are spendable by that user’s corresponding private key.</p><p>With <strong>“Pay-to-script-hash” (P2SH)</strong>, transactions are sent to the hash of a “redeem script”, which is a special <a href="https://en.bitcoin.it/wiki/Script" target="_blank" rel="noopener noreferrer">Bitcoin script</a> (e.g. a Bitcoin smart contract) that can be written to do a variety of things. To “execute” the script and operate on some or all of the sent funds, another party will broadcast an additional transaction that provides the original script content, along with any required signatures. </p><p>The P2SH support implemented in Counterparty makes payment channels possible, as payment channels (and Lightning Network, for that matter) require the use of these redeem scripts to work. P2SH is also commonly used for multisignature transactions since the signing process is generally more compact and streamlined than the earlier method (“bare multisig”).</p><p>You can tell if a Bitcoin address is for a P2SH destination because it will start with ‘3’ on Bitcoin mainnet. Given this, you may notice that many exchanges, for instance, utilize these ‘3’ addresses for deposits. The redeem script in use with that is most definitely a multisig script of some kind, allowing secure, multi-party handling of deposited funds by the exchange.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="what-are-atomic-swaps-and-otc-markets"></a>What are atomic swaps and OTC markets?<a class="hash-link" href="#what-are-atomic-swaps-and-otc-markets" title="Direct link to heading">#</a></h3><p>P2SH support, the same technology implemented in Counterparty that makes payment channels possible, also makes on-chain “atomic swaps” possible.</p><p>With an <strong>atomic swap</strong>, two parties perform a special process of exchanging information that completes by the parties broadcasting several transactions that they both have signed. These transactions end up exchanging (i.e. “swapping”) some quantity of one asset from one party in exchange for another. This is done in a way where one party can’t cheat the other.</p><p>The use of atomic swaps can be useful to enable the use of things like <strong>over the counter (OTC) markets</strong> and <strong>dark pools</strong>. With either structure, a third party (often known as a bookrunner) would maintain a list of bids and offers between buyers and sellers of one asset for another, such as XCP and BTC. That list may be publically published, or not. Interested parties would contact the bookrunner and place buy and sell offers. The bookrunner would match buyers to sellers, who would then perform the trade themselves utilizing an atomic swap. Using this model, risk is greatly minimized, as the bookrunner does not have to hold any assets (and thus cannot run away with them).</p><p>The concept of an OTC market may sound antiquated but in reality they are a major boon to markets, especially for large holders who can then enter or exit a market or accumulate an asset without much price “slippage”, as would oftentimes occur on an exchange. In mainstream finance, OTC markets comprise over 40% of stock trading, as well as the vast majority of bond and derivative trading (<a href="https://en.wikipedia.org/wiki/Over-the-counter_(finance)" target="_blank" rel="noopener noreferrer">source 1</a>, <a href="https://en.wikipedia.org/wiki/Derivatives_market" target="_blank" rel="noopener noreferrer">source 2</a>).</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="how-do-i-start-using-all-of-this-technology-with-counterparty"></a>How do I start using all of this technology with Counterparty?<a class="hash-link" href="#how-do-i-start-using-all-of-this-technology-with-counterparty" title="Direct link to heading">#</a></h3><p>This technology is all in various stages of development, with some of it being complete (P2SH, for instance) and some in very early states on Counterparty (such as bidirectional payment channels and Lightning Network support).</p><p>We will be publishing guides for users and developers as the respective technology becomes available and matures. Until that point, feel free to check out <a href="https://github.com/CounterpartyXCP/counterparty-lib/tree/develop" target="_blank" rel="noopener noreferrer">the newest source code</a> and ask questions on #dev on <a href="http://slack.counterparty.io/" target="_blank" rel="noopener noreferrer">our official Slack chat</a>.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/master/website/docs/basics/faq/lightning-network.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/basics/faq/smart-contracts"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« On Smart contracts</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/basics/support"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Getting Support on the Forums »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-are-payment-channels" class="table-of-contents__link">What are Payment channels?</a></li><li><a href="#what-is-the-lightning-network" class="table-of-contents__link">What is the Lightning Network?</a></li><li><a href="#how-do-payment-channels-help-counterparty-users" class="table-of-contents__link">How do payment channels help Counterparty users?</a></li><li><a href="#what-are-some-potential-uses-for-payment-channelsmicropayments" class="table-of-contents__link">What are some potential uses for payment channels/micropayments?</a></li><li><a href="#could-payment-channels-be-useful-for-any-kind-of-transaction" class="table-of-contents__link">Could payment channels be useful for any kind of transaction?</a></li><li><a href="#what-is-p2sh" class="table-of-contents__link">What is P2SH?</a></li><li><a href="#what-are-atomic-swaps-and-otc-markets" class="table-of-contents__link">What are atomic swaps and OTC markets?</a></li><li><a href="#how-do-i-start-using-all-of-this-technology-with-counterparty" class="table-of-contents__link">How do I start using all of this technology with Counterparty?</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/basics/what-is-counterparty/a-bitcoin-protocol">Getting Started</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/wsjKtPGrMF" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://counterpartytalk.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum</a></li><li class="footer__item"><a href="https://www.reddit.com/r/counterparty_xcp/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Reddit</a></li><li class="footer__item"><a href="https://t.me/Counterparty_XCP" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram</a></li><li class="footer__item"><a href="https://twitter.com/CounterpartyXCP" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/CounterpartyXCP/Documentation" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2014 - 2021 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/styles.3bec8e7c.js"></script>
<script src="/assets/js/runtime~main.85ef5a3f.js"></script>
<script src="/assets/js/main.9a984a6f.js"></script>
<script src="/assets/js/1.d5f96000.js"></script>
<script src="/assets/js/2.51cf87d3.js"></script>
<script src="/assets/js/55.4d55144e.js"></script>
<script src="/assets/js/56.1e9741af.js"></script>
<script src="/assets/js/935f2afb.912e5501.js"></script>
<script src="/assets/js/17896441.cde37ae1.js"></script>
<script src="/assets/js/016e3a9e.5b07ab98.js"></script>
</body>
</html>